{"version":3,"sources":["controllers/user.ts"],"names":[],"mappings":";;AAAA,uCAAsC;AAEtC,yCAAyC;AACzC,kDAAkD;AAClD,IAAI;AAEJ;IAAA;QA4BE,aAAQ,GAAG,UAAS,GAAG,EAAC,GAAG;YACzB,IAAI,IAAI,GAAG,IAAI,WAAI,CAAC;gBAClB,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE;gBACf,QAAQ,EAAE,MAAM;gBAChB,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS;gBAC7B,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;gBAC3B,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK;gBACrB,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI;aACpB,CAAC,CAAC;YAEH,IAAI,CAAC,IAAI,CAAC,UAAC,GAAG;gBACZ,EAAE,CAAA,CAAC,GAAG,CAAC;oBAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7B,GAAG,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,mBAAmB,EAAE,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAA;QACJ,CAAC,CAAA;IACH,CAAC;IAzCC,iCAAQ,GAAR,UAAS,GAAY,EAAE,GAAG;QACxB,WAAI,CAAC,IAAI,CAAC,EAAE,EAAE,UAAC,GAAG,EAAE,KAAK;YACvB,EAAE,CAAA,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7B,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAS,GAAT,UAAU,GAAY,EAAE,GAAG;QACzB,WAAI,CAAC,OAAO,CAAC,EAAC,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,EAAC,CAAC;aAC5B,MAAM,CAAC,qBAAqB,CAAC;aAC7B,IAAI,CAAC,UAAC,GAAG,EAAE,IAAI;YACd,EAAE,CAAA,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7B,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAW,GAAX,UAAY,GAAG,EAAE,GAAG;QAClB,IAAI,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;QAC5B,WAAI,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;aACnB,MAAM,CAAC,WAAW,CAAC;aACnB,IAAI,CAAC,UAAC,GAAG,EAAE,IAAI;YACd,EAAE,CAAA,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC;IACT,CAAC;IAiBH,qBAAC;AAAD,CA3CA,AA2CC,IAAA;AA3CY,wCAAc","file":"../../src/controllers/user.js","sourcesContent":["import { User } from '../models/user';\n\n// export function postPerson(req, res) {\n//     res.json({ message: 'Person added to DB'});\n// }\n\nexport class UserController {\n\n  getUsers(req: Request, res) {\n    User.find({}, (err, users) => {\n      if(err) return res.send(err);\n      res.json(users);\n    });\n  }\n\n  getMyUser(req: Request, res) {\n    User.findOne({_id: req.user._id})\n        .select('-password -_id -__v')\n        .exec((err, user) => {\n          if(err) return res.send(500);\n          return res.json(user);\n    });\n  }\n\n  getUserData(req, res) {\n    let id = req.params.user_id;\n    User.findOne({ id: id })\n        .select('-password')\n        .exec((err, user) => {\n          if(err) return res.send(err);\n          res.json(user);\n        });\n  }\n\n  postUser = function(req,res) {\n    let user = new User({\n      id: req.body.id,\n      password: '1234',\n      firstName: req.body.firstName,\n      lastName: req.body.lastName,\n      phone: req.body.phone,\n      mail: req.body.mail,\n    });\n\n    user.save((err) => {\n      if(err) return res.send(err);\n      res.json({message: 'New user created!' });\n    })\n  }\n}\n\n"]}